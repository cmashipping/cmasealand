
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard - CMA SEA LAND</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f0f4f8;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #0a2c45;
      color: white;
      padding: 1rem 2rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 2rem auto;
      max-width: 95%;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 1rem;
      border-bottom: 1px solid #ddd;
      text-align: left;
      font-size: 0.95rem;
    }
    th {
      background-color: #00bcd4;
      color: white;
    }
    tr:hover {
      background-color: #f1f1f1;
    }
    .actions button {
      padding: 0.4rem 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      margin-right: 0.5rem;
    }
    .approve {
      background-color: #4CAF50;
      color: white;
    }
    .reject {
      background-color: #f44336;
      color: white;
    }
  </style>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCzMKTWkUPymleRx5QByjPbT-R409L3CuY",
    authDomain: "cma-sea-land.firebaseapp.com",
    projectId: "cma-sea-land",
    storageBucket: "cma-sea-land.appspot.com",
    messagingSenderId: "379428651890",
    appId: "1:379428651890:web:2678ec1add05f171c653eb"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      window.location.href = "admin-login.html";
    }
  });
</script>


<script type="module">
  import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const auth = getAuth();

  window.logout = () => {
    signOut(auth).then(() => {
      window.location.href = "admin-login.html";
    });
  };

  window.updateStatus = async (collectionName, docId, status) => {
    const user = auth.currentUser;
    if (!user) {
      alert("Not authorized");
      return;
    }
    const userEmail = user.email;
    await updateDoc(doc(db, collectionName, docId), {
      status,
      reviewed_by: userEmail,
      reviewed_at: new Date().toISOString()
    });
    alert("Status updated to " + status + " by " + userEmail);
    location.reload();
  };
</script>

</head>
<body>


<header>
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <span>Admin Dashboard - CMA SEA LAND</span>
    <button onclick="logout()" style="background:#f44336;color:white;border:none;padding:0.5rem 1rem;border-radius:5px;cursor:pointer;font-weight:bold;">Logout</button>
  </div>
</header>


<table>
  <thead>
    <tr>
      <th>Account Type</th>
      <th>Name / Company</th>
      <th>Email</th>
      <th>Mobile</th>
      <th>License / ID</th>
      <th>Expiry Date</th>
      <th>Tax Certificate</th>
      <th>Tax Expiry</th>
      <th>Reviewed By</th>
          <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <!-- Sample Row -->
    <tr>
      <td>Company</td>
      <td>Alpha Logistics</td>
      <td>admin@alphalogistics.com</td>
      <td>+97150000000</td>
      <td><a href="#">View</a></td>
      <td>2026-03-30</td>
      <td><a href="#">View</a></td>
      <td>2025-12-31</td>
      <td class="actions">
        <button class="approve">Approve</button>
        <button class="reject">Reject</button>
      </td>
    </tr>
  </tbody>
</table>

</body>
</html>
